import re

# Регулярное выражение для базовой валидации поискового запроса.
#
# Разрешены:
# - буквенно-цифровые символы (включая Unicode, т.е. кириллицу);
# - пробелы;
# - базовые знаки пунктуации: -, ., ,, !, ?
#
# Ограничения:
# - минимальная длина запроса: 2 символа;
# - максимальная длина запроса: 200 символов.
#
# Такое ограничение защищает:
# - от пустых и бессмысленных запросов;
# - от слишком длинного ввода;
# - от потенциально опасных символов.
SEARCH_RE = re.compile(r"^[\w\s\-.,!?]{2,200}$")  # простая валидация


def validate_search_query(query: str) -> bool:
    """
    Проверяет корректность поискового запроса пользователя.

    Функция выполняет базовую синтаксическую валидацию строки,
    введённой пользователем, с использованием регулярного выражения.

    Проверка предназначена для:
    - отсеивания пустых и слишком коротких запросов;
    - ограничения длины пользовательского ввода;
    - предотвращения передачи в поисковый сервис
      нежелательных или потенциально опасных символов.

    Функция не выполняет семантическую проверку запроса
    и не гарантирует наличие результатов поиска —
    она отвечает исключительно за корректность формата.

    Args:
        query (str): Строка поискового запроса, введённая пользователем.

    Returns:
        bool: `True`, если запрос соответствует допустимому формату,
        иначе `False`.
    """
    # Проверяем соответствие строки регулярному выражению
    # и приводим результат к булеву значению
    return bool(SEARCH_RE.match(query))
